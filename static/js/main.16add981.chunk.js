(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/blockchess",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).CONTRACT_NAME||"guest-book.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"default",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/blockchess",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},119:function(e,t,n){e.exports=n(213)},147:function(e,t){},153:function(e,t){},169:function(e,t){},171:function(e,t){},189:function(e,t){},213:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(115),c=n(105),s=n(0),l=n.n(s),i=n(27),u=n.n(i),d=(n(67),n(229)),p=n(234);function h(){return l.a.createElement(d.a,{variant:"body1",gutterBottom:!0},"TODO: Some content when the user is not signed in")}var m=n(111),g=n.n(m),w=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,a=e.wallet;Object(s.useEffect)((function(){}),[t]);return l.a.createElement("main",null,l.a.createElement("header",null,l.a.createElement(d.a,{variant:"h2",component:"h2",gutterBottom:!0},"BlockChess"),n?l.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:function(){a.signOut(),window.location.replace(window.location.origin+window.location.pathname)}},"Log out"):l.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:function(){a.requestSignIn(r.contractName,"NEAR Guest Book")}},"Log in")),n?l.a.createElement(g.a,null):l.a.createElement(h,null))},f=n(113),E=n.n(f),b=n(233),O=n(232),k=n(231),C=n(114),U=Object(C.a)({palette:{type:"dark",primary:{main:"#202020"},secondary:{main:"#1de9b6"},error:{main:k.a.A400}}}),v=n(39);n(212);function S(){return(S=Object(c.a)(a.a.mark((function e(){var t,n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E()("production"),e.next=3,v.connect(Object(o.a)({deps:{keyStore:new v.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(n=e.sent,!(r=new v.WalletConnection(n)).getAccountId()){e.next=11;break}return e.t0=r.getAccountId(),e.next=9,r.account().state();case 9:e.t1=e.sent.amount,c={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new v.Contract(r.account(),t.contractName,{viewMethods:["getMessages"],changeMethods:["addMessage"],sender:r.getAccountId()});case 13:return s=e.sent,e.abrupt("return",{contract:s,currentUser:c,nearConfig:t,walletConnection:r});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return S.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,a=e.walletConnection;u.a.render(l.a.createElement(O.a,{theme:U},l.a.createElement(b.a,null),l.a.createElement(w,{contract:t,currentUser:n,nearConfig:r,wallet:a})),document.getElementById("root"))}))}},[[119,1,2]]]);
//# sourceMappingURL=main.16add981.chunk.js.map